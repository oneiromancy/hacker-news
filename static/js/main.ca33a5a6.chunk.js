(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,a){e.exports=a(56)},29:function(e,t,a){},30:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},46:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(18),i=a.n(r),s=(a(29),a(58)),o=a(19),m=(a(30),a(57)),l=a(59),u=a(6),d=a.n(u),h=(a(37),a(23)),_=(a(38),function(e){var t=e.pathnameLink,a=Object(h.a)(e,["pathnameLink"]);return c.a.createElement("li",{className:"Navbar__menuItem"},c.a.createElement(m.a,{to:t,className:"Navbar__itemLink",activeClassName:"Navbar__menuItem--active"},a.children))}),E=Object(l.a)(function(e){var t=e.location,a=d.a.parse(t.search).id;return c.a.createElement("div",{className:"Navbar"},c.a.createElement(m.a,{exact:!0,to:"/",className:"Navbar__logo Navbar__itemLink",activeClassName:"Navbar__logo Navbar__menuItem--active"},"Hacker News"),c.a.createElement("ul",{className:"Navbar__menuList"},c.a.createElement(_,{pathnameLink:"/newest"},"new"),c.a.createElement(_,{pathnameLink:"/newcomments"},"comments"),c.a.createElement(_,{pathnameLink:"/ask"},"ask"),c.a.createElement(_,{pathnameLink:"/show"},"show"),c.a.createElement(_,{pathnameLink:"/jobs"},"jobs"),"/submitted"===t.pathname&&c.a.createElement("li",{className:"Navbar__menuItem Navbar__menuItem--active"},"".concat(a,"'s 'submissions")),"/threads"===t.pathname&&c.a.createElement("li",{className:"Navbar__menuItem Navbar__menuItem--active"},"".concat(a,"'s 'comments"))))}),p=(a(42),a(15)),f=(a(43),a(22)),g=a.n(f),v=Object(l.a)(function(e){var t=e.title,a=e.url,n=e.objectID,r=e.location,i=new g.a(a);return c.a.createElement("div",{className:"StoryHeading"},"/ask"===r.pathname?c.a.createElement(p.a,{className:"StoryHeading__title StoryHeading__itemLink",to:"/item?id=".concat(n)},t):c.a.createElement(c.a.Fragment,null,c.a.createElement("a",{className:"StoryHeading__title StoryHeading__itemLink",href:a||n},c.a.createElement("span",null,t," ")),a&&c.a.createElement("span",null,c.a.createElement("a",{className:"StoryHeading__urlLink StoryHeading__itemLink",href:a},c.a.createElement("small",null,"(",i.origin,")")))))}),N=(a(46),a(7)),b=a.n(N),L=Object(l.a)(function(e){var t=e.author,a=e.points,n=e.num_comments,r=e.created_at_i,i=e.location,s=e.objectID,o=e.id;return c.a.createElement("div",{className:"StoryMeta"},"/jobs"===i.pathname?c.a.createElement(p.a,{className:"StoryMeta__itemLink",to:"item?id=".concat(s||o)},b.a.unix(r).fromNow()):c.a.createElement("div",null,c.a.createElement("span",null,a," points by\xa0",c.a.createElement(p.a,{className:"StoryMeta__itemLink",to:"user?id=".concat(t)},t)),c.a.createElement(p.a,{className:"StoryMeta__itemLink",to:"item?id=".concat(s||o)},"\xa0",b.a.unix(r).fromNow()),c.a.createElement("span",null,"\xa0|\xa0"),c.a.createElement(p.a,{className:"StoryMeta__itemLink",to:"item?id=".concat(s||o)},Number(n)," comments")))}),k=(a(48),function(e){var t=e.text;return c.a.createElement("div",{className:"StoryText",dangerouslySetInnerHTML:{__html:t}})}),y=function(e){var t=e.title,a=e.url,n=e.author,r=e.points,i=e.num_comments,s=e.created_at_i,o=e.objectID,m=e.id,l=e.text;return c.a.createElement("article",null,c.a.createElement("div",{className:"Story"},c.a.createElement(v,{title:t,url:a,objectID:o}),c.a.createElement(L,{author:n,points:r,num_comments:i,created_at_i:s,objectID:o,id:m}),l&&c.a.createElement(k,{text:l})))},j=function(e){var t=e.data;return c.a.createElement(c.a.Fragment,null,t.map(function(e,t){return c.a.createElement(y,Object.assign({key:t},e))}))},w=(a(49),a(50),a(51),function(e){var t=e.author,a=e.created_at_i,n=e.story_title,r=e.objectID,i=e.id,s=e.story_id;return c.a.createElement("div",{className:"CommentMeta"},c.a.createElement(p.a,{className:"CommentMeta__itemLink",to:"user?id=".concat(t)},t),c.a.createElement(p.a,{className:"CommentMeta__itemLink",to:"item?id=".concat(r||i)},b.a.unix(a).fromNow()),n&&c.a.createElement("span",null,c.a.createElement("span",null," | on: "),c.a.createElement(p.a,{className:"CommentMeta__itemLink",to:"item?id=".concat(s)},n)))}),D=(a(52),function(e){var t=e.text,a=e.comment_text,n=t||a;return c.a.createElement("div",{className:"CommentText",dangerouslySetInnerHTML:{__html:n}})}),x=function(e){var t=e.author,a=e.created_at_i,n=e.story_title,r=e.objectID,i=e.story_id,s=e.id,o=e.comment_text,m=e.text;return c.a.createElement("article",null,c.a.createElement("div",{className:"Comment"},c.a.createElement(w,{author:t,created_at_i:a,story_title:n,objectID:r,id:s,story_id:i}),c.a.createElement(D,{comment_text:o,text:m})))},P=function e(t){var a=t.data;return c.a.createElement("div",{className:"CommentList"},a.map(function(t,a){var n=t.children?t.children:[];return c.a.createElement("div",{key:a},c.a.createElement(x,t),c.a.createElement("div",{className:"CommentList__nestedComments"},n.length>0&&c.a.createElement(e,{data:t.children})))}))},S=(a(53),function(e){var t=e.data;return c.a.createElement("div",null,c.a.createElement("div",{className:"UserDetails__username"},c.a.createElement("span",{className:"UserDetails__section"},"user: "),c.a.createElement("span",null,c.a.createElement(p.a,{className:"UserDetails__itemLink",to:"user?id=".concat(t.username)},t.username))),c.a.createElement("div",{className:"UserDetails__accountCreationDate"},c.a.createElement("span",{className:"UserDetails__section"},"created: "),c.a.createElement("span",null,b.a.unix(t.created_at_i).calendar())),c.a.createElement("div",{className:"UserDetails__karma"},c.a.createElement("span",{className:"UserDetails__section"},"karma: "),c.a.createElement("span",null,t.karma)),c.a.createElement("div",{className:"UserDetails__about"},c.a.createElement("span",{className:"UserDetails__section"},"about: "),c.a.createElement("span",{dangerouslySetInnerHTML:{__html:t.about}})),c.a.createElement("div",{className:"UserDetails__itemLinkContainer"},c.a.createElement("span",null,c.a.createElement(p.a,{className:"UserDetails__itemLink",to:"submitted?id=".concat(t.username)},"submissions")),c.a.createElement("span",null,c.a.createElement(p.a,{className:"UserDetails__itemLink",to:"threads?id=".concat(t.username)},"comments"))))});var I=function e(t){var a=0;return function(t){for(var n=0;n<t.children.length;n++)t.children[n].text&&a++,t.children[n].children.length>0&&(a+=e(t.children[n]))}(t),a},O=(a(54),function(e){var t=e.data;return c.a.createElement("div",{className:"DetailedPostView"},"story"==t.type?c.a.createElement(c.a.Fragment,null,c.a.createElement(y,Object.assign({},t,{num_comments:I(t)})),c.a.createElement("div",null,c.a.createElement("h1",{className:"DetailedPostView__commentsHeading"},"Comments"),c.a.createElement(P,{data:t.children}))):c.a.createElement(x,t))}),C=a(8),F=a(9),M=a(12),H=a(10),U=a(13),q="https://hn.algolia.com/api",T="v1",A=30;function J(e,t){var a="".concat(q,"/").concat(T,"/search_by_date?tags=").concat(e,"&hitsPerPage=").concat(A,"&page=").concat(t);return fetch(a).then(function(e){return e.json()}).then(function(e){return e})}function V(e,t){var a="".concat(q,"/").concat(T,"/").concat(e,"/").concat(t);return fetch(a).then(function(e){return e.json()}).then(function(e){return e})}function B(e,t,a){var n="".concat(q,"/").concat(T,"/search?tags=").concat(e,",author_").concat(a,"&hitsPerPage=").concat(A,"&page=").concat(t);return fetch(n).then(function(e){return e.json()}).then(function(e){return e})}var z={"/":{tag:"front_page",fetchFn:J},"/news":{tag:"front_page",fetchFn:J},"/newest":{tag:"story",fetchFn:J},"/ask":{tag:"ask_hn",fetchFn:J},"/show":{tag:"show_hn",fetchFn:J},"/newcomments":{tag:"comment",fetchFn:J},"/jobs":{tag:"job",fetchFn:J},"/user":{tag:"users",fetchFn:V},"/item":{tag:"items",fetchFn:V},"/submitted":{tag:"story",fetchFn:B},"/threads":{tag:"comment",fetchFn:B}},G=function(){return c.a.createElement("div",null,"Loading...")},K=function(e){return function(t){function a(){var e,t;Object(C.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(t=Object(M.a)(this,(e=Object(H.a)(a)).call.apply(e,[this].concat(c)))).state={data:[],isLoading:!0},t.componentDidMount=function(){t.requestData()},t.requestData=function(){var e=d.a.parse(t.props.location.search).id,a=z[t.props.location.pathname],n=a.tag;(0,a.fetchFn)(n,e).then(function(e){t.setState({data:e,isLoading:!1})})},t}return Object(U.a)(a,t),Object(F.a)(a,[{key:"render",value:function(){return this.state.isLoading?c.a.createElement(G,null):c.a.createElement("section",null,c.a.createElement(e,Object.assign({data:this.state.data,isLoading:this.state.isLoading},this.props)))}}]),a}(n.Component)},Q=(a(55),Object(l.a)(function(e){var t=e.nextPage,a=e.currentPage,n=e.location,r=e.query.id;return c.a.createElement(p.a,{className:"NextPageLink",onClick:t,to:"".concat(n.pathname).concat(r?"?id=".concat(r,"&page=").concat(a+1):"?page=".concat(a+1))},"More")})),R=function(e){return function(t){function a(){var e,t;Object(C.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(t=Object(M.a)(this,(e=Object(H.a)(a)).call.apply(e,[this].concat(c)))).state={data:[],currentPage:0,isLoading:!0,showNextPageLink:!0},t.componentDidMount=function(){t.requestData()},t.requestData=function(){var e=t.props.location.pathname,a=z[e],n=a.tag,c=a.fetchFn,r=d.a.parse(t.props.location.search),i=r.page,s=r.id,o=isNaN(i)?0:parseInt(i);c(n,o,s).then(function(e){e.hits.length>0?t.setState({data:e.hits,currentPage:o,isLoading:!1}):t.setState({isLoading:!1,showNextPageLink:!1})})},t.nextPage=function(){t.setState(function(e){return{currentPage:e.currentPage+1,isLoading:!0}},t.requestData)},t}return Object(U.a)(a,t),Object(F.a)(a,[{key:"render",value:function(){return this.state.isLoading?c.a.createElement(G,null):c.a.createElement("section",null,c.a.createElement(e,{data:this.state.data,isLoading:this.state.isLoading,currentPage:this.state.currentPage,nextPage:this.nextPage}),this.state.showNextPageLink&&c.a.createElement(Q,{nextPage:this.nextPage,currentPage:this.state.currentPage,query:d.a.parse(this.props.location.search)}))}}]),a}(n.Component)},W=function(){return c.a.createElement(s.a,{basename:"/hacker-news"},c.a.createElement("div",{className:"App"},c.a.createElement("nav",null,c.a.createElement(E,null)),c.a.createElement("main",null,c.a.createElement("div",{className:"App__main"},c.a.createElement(o.a,{exact:!0,path:"/",component:R(j)}),c.a.createElement(o.a,{path:"/newest",component:R(j)}),c.a.createElement(o.a,{path:"/ask",component:R(j)}),c.a.createElement(o.a,{path:"/show",component:R(j)}),c.a.createElement(o.a,{path:"/jobs",component:R(j)}),c.a.createElement(o.a,{path:"/newcomments",component:R(P)}),c.a.createElement(o.a,{path:"/user",component:K(S)}),c.a.createElement(o.a,{path:"/submitted",component:R(j)}),c.a.createElement(o.a,{path:"/threads",component:R(P)}),c.a.createElement(o.a,{path:"/item",component:K(O)})))))};i.a.render(c.a.createElement(W,null),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.ca33a5a6.chunk.js.map